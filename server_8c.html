<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "https://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=9"/>
<meta name="generator" content="Doxygen 1.9.1"/>
<meta name="viewport" content="width=device-width, initial-scale=1"/>
<title>Battleship Game Fullstack: server/server.c File Reference</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<link href="navtree.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="resize.js"></script>
<script type="text/javascript" src="navtreedata.js"></script>
<script type="text/javascript" src="navtree.js"></script>
<link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="search/searchdata.js"></script>
<script type="text/javascript" src="search/search.js"></script>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
<link href="doxygen-awesome.css" rel="stylesheet" type="text/css"/>
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr style="height: 56px;">
  <td id="projectalign" style="padding-left: 0.5em;">
   <div id="projectname">Battleship Game Fullstack
   </div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.9.1 -->
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:cf05388f2679ee054f2beb29a391d25f4e673ac3&amp;dn=gpl-2.0.txt GPL-v2 */
var searchBox = new SearchBox("searchBox", "search",false,'Search','.html');
/* @license-end */
</script>
<script type="text/javascript" src="menudata.js"></script>
<script type="text/javascript" src="menu.js"></script>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:cf05388f2679ee054f2beb29a391d25f4e673ac3&amp;dn=gpl-2.0.txt GPL-v2 */
$(function() {
  initMenu('',true,false,'search.php','Search');
  $(document).ready(function() { init_search(); });
});
/* @license-end */</script>
<div id="main-nav"></div>
</div><!-- top -->
<div id="side-nav" class="ui-resizable side-nav-resizable">
  <div id="nav-tree">
    <div id="nav-tree-contents">
      <div id="nav-sync" class="sync"></div>
    </div>
  </div>
  <div id="splitbar" style="-moz-user-select:none;" 
       class="ui-resizable-handle">
  </div>
</div>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:cf05388f2679ee054f2beb29a391d25f4e673ac3&amp;dn=gpl-2.0.txt GPL-v2 */
$(document).ready(function(){initNavTree('server_8c.html',''); initResizable(); });
/* @license-end */
</script>
<div id="doc-content">
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
</div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<iframe src="javascript:void(0)" frameborder="0" 
        name="MSearchResults" id="MSearchResults">
</iframe>
</div>

<div class="header">
  <div class="summary">
<a href="#define-members">Macros</a> &#124;
<a href="#func-members">Functions</a> &#124;
<a href="#var-members">Variables</a>  </div>
  <div class="headertitle">
<div class="title">server.c File Reference</div>  </div>
</div><!--header-->
<div class="contents">
<div class="textblock"><code>#include &lt;arpa/inet.h&gt;</code><br />
<code>#include &lt;ctype.h&gt;</code><br />
<code>#include &lt;math.h&gt;</code><br />
<code>#include &lt;stdio.h&gt;</code><br />
<code>#include &lt;stdlib.h&gt;</code><br />
<code>#include &lt;string.h&gt;</code><br />
<code>#include &lt;sys/socket.h&gt;</code><br />
<code>#include &lt;time.h&gt;</code><br />
<code>#include &lt;unistd.h&gt;</code><br />
<code>#include &quot;<a class="el" href="shared_8h_source.html">../shared/shared.h</a>&quot;</code><br />
</div><div class="textblock"><div class="dynheader">
Include dependency graph for server.c:</div>
<div class="dyncontent">
<div class="center"><img src="server_8c__incl.png" border="0" usemap="#aserver_2server_8c" alt=""/></div>
</div>
</div>
<p><a href="server_8c_source.html">Go to the source code of this file.</a></p>
<table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="define-members"></a>
Macros</h2></td></tr>
<tr class="memitem:a42bf63540ee0039a3a23db1b5ec3202b"><td class="memItemLeft" align="right" valign="top">#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="server_8c.html#a42bf63540ee0039a3a23db1b5ec3202b">CONFIG_FILE</a>&#160;&#160;&#160;&quot;config.cfg&quot;</td></tr>
<tr class="separator:a42bf63540ee0039a3a23db1b5ec3202b"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a053b7859476cc9867ec62c49e68d3fa1"><td class="memItemLeft" align="right" valign="top">#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="server_8c.html#a053b7859476cc9867ec62c49e68d3fa1">MAX_CONNECTIONS</a>&#160;&#160;&#160;10</td></tr>
<tr class="separator:a053b7859476cc9867ec62c49e68d3fa1"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a5bb74f89a7ccccb5b72cb10e21b6a2f9"><td class="memItemLeft" align="right" valign="top">#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="server_8c.html#a5bb74f89a7ccccb5b72cb10e21b6a2f9">MAX_FIELD_SIZE</a>&#160;&#160;&#160;20</td></tr>
<tr class="separator:a5bb74f89a7ccccb5b72cb10e21b6a2f9"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a1d87411411dd1e46bb054e543df3c8c8"><td class="memItemLeft" align="right" valign="top">#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="server_8c.html#a1d87411411dd1e46bb054e543df3c8c8">BUF_CONFIG_SIZE</a>&#160;&#160;&#160;50</td></tr>
<tr class="separator:a1d87411411dd1e46bb054e543df3c8c8"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="func-members"></a>
Functions</h2></td></tr>
<tr class="memitem:ad6261f040bd258f001d04dc874097482"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="server_8c.html#ad6261f040bd258f001d04dc874097482">init_configuration</a> (FILE *file)</td></tr>
<tr class="memdesc:ad6261f040bd258f001d04dc874097482"><td class="mdescLeft">&#160;</td><td class="mdescRight">Initializes the configuration of the server. Reads the configuration file and sets the values of the configuration. The configuration file must be in the format "key=value".  <a href="server_8c.html#ad6261f040bd258f001d04dc874097482">More...</a><br /></td></tr>
<tr class="separator:ad6261f040bd258f001d04dc874097482"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a194df5ce354a85b622ec15eeb1e432a5"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="server_8c.html#a194df5ce354a85b622ec15eeb1e432a5">handle_client</a> (int client_socket, int server_socket)</td></tr>
<tr class="memdesc:a194df5ce354a85b622ec15eeb1e432a5"><td class="mdescLeft">&#160;</td><td class="mdescRight">Handles the client connection. Creates a child process to handle the client. The child process creates the game board, places the ships, and handles the game process.  <a href="server_8c.html#a194df5ce354a85b622ec15eeb1e432a5">More...</a><br /></td></tr>
<tr class="separator:a194df5ce354a85b622ec15eeb1e432a5"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a9c4c815a40b6ad2d889606f8e7fa66eb"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="server_8c.html#a9c4c815a40b6ad2d889606f8e7fa66eb">place_ships</a> (char ***<a class="el" href="server_8c.html#a52aa3794e6bc5c84d923de87a2d4e435">playing_field</a>, int number_of_ships)</td></tr>
<tr class="memdesc:a9c4c815a40b6ad2d889606f8e7fa66eb"><td class="mdescLeft">&#160;</td><td class="mdescRight">Places ships on the game board. The ships are placed randomly on the board. The number of ships is specified in the configuration.  <a href="server_8c.html#a9c4c815a40b6ad2d889606f8e7fa66eb">More...</a><br /></td></tr>
<tr class="separator:a9c4c815a40b6ad2d889606f8e7fa66eb"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ae246e04c3eb6b6dc6d41f9485da9a0c7"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="server_8c.html#ae246e04c3eb6b6dc6d41f9485da9a0c7">logging</a> (char *message)</td></tr>
<tr class="memdesc:ae246e04c3eb6b6dc6d41f9485da9a0c7"><td class="mdescLeft">&#160;</td><td class="mdescRight">Logs the connection of the client. The function logs the time of the connection.  <a href="server_8c.html#ae246e04c3eb6b6dc6d41f9485da9a0c7">More...</a><br /></td></tr>
<tr class="separator:ae246e04c3eb6b6dc6d41f9485da9a0c7"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a23212950e729b793025fd5109c6eb155"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="server_8c.html#a23212950e729b793025fd5109c6eb155">process_player_move</a> (char *move, char *answer, int *number_of_moves, int *number_of_ships)</td></tr>
<tr class="memdesc:a23212950e729b793025fd5109c6eb155"><td class="mdescLeft">&#160;</td><td class="mdescRight">Processes the player move. The function checks if the move is valid and processes the move. The function updates the game board and the number of moves and ships.  <a href="server_8c.html#a23212950e729b793025fd5109c6eb155">More...</a><br /></td></tr>
<tr class="separator:a23212950e729b793025fd5109c6eb155"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ac746ba306bd0b9ce4c390cb8cbbc5004"><td class="memItemLeft" align="right" valign="top"><a class="el" href="shared_8h.html#af6a258d8f3ee5206d682d799316314b1">bool</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="server_8c.html#ac746ba306bd0b9ce4c390cb8cbbc5004">is_valid_position</a> (char **<a class="el" href="server_8c.html#a52aa3794e6bc5c84d923de87a2d4e435">playing_field</a>, int x, int y)</td></tr>
<tr class="memdesc:ac746ba306bd0b9ce4c390cb8cbbc5004"><td class="mdescLeft">&#160;</td><td class="mdescRight">Checks if the position on the game board is valid. The position is valid if there are no ships around the position.  <a href="server_8c.html#ac746ba306bd0b9ce4c390cb8cbbc5004">More...</a><br /></td></tr>
<tr class="separator:ac746ba306bd0b9ce4c390cb8cbbc5004"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a8c360e0dce3321283e4979437859c0b7"><td class="memItemLeft" align="right" valign="top"><a class="el" href="shared_8h.html#af6a258d8f3ee5206d682d799316314b1">bool</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="server_8c.html#a8c360e0dce3321283e4979437859c0b7">check_configuration</a> (<a class="el" href="structServerConfig.html">ServerConfig</a> <a class="el" href="server_8c.html#ab0196e30c40099fcc01057bbcfda6433">config</a>)</td></tr>
<tr class="memdesc:a8c360e0dce3321283e4979437859c0b7"><td class="mdescLeft">&#160;</td><td class="mdescRight">Checks the configuration of the server. The configuration is invalid if the field size is greater than the maximum field size or the number of ships is greater than the maximum number of ships.  <a href="server_8c.html#a8c360e0dce3321283e4979437859c0b7">More...</a><br /></td></tr>
<tr class="separator:a8c360e0dce3321283e4979437859c0b7"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a826a4475252fe7971212c5e29001f744"><td class="memItemLeft" align="right" valign="top"><a class="el" href="shared_8h.html#a881b49e3802366255ad852f1c8624fd1">GameStatus</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="server_8c.html#a826a4475252fe7971212c5e29001f744">check_game_status</a> (int number_of_moves, int number_of_ships)</td></tr>
<tr class="memdesc:a826a4475252fe7971212c5e29001f744"><td class="mdescLeft">&#160;</td><td class="mdescRight">Checks the game status. The game status is checked based on the number of moves and ships. The game is won if the number of moves is less than the maximum number of moves and the number of ships is zero. The game is lost if the number of moves is greater than the maximum number of moves.  <a href="server_8c.html#a826a4475252fe7971212c5e29001f744">More...</a><br /></td></tr>
<tr class="separator:a826a4475252fe7971212c5e29001f744"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a840291bc02cba5474a4cb46a9b9566fe"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="server_8c.html#a840291bc02cba5474a4cb46a9b9566fe">main</a> (void)</td></tr>
<tr class="memdesc:a840291bc02cba5474a4cb46a9b9566fe"><td class="mdescLeft">&#160;</td><td class="mdescRight">Main function of the server. Initializes the configuration, creates the server socket, binds it to the address and port, listens for incoming connections, and handles them.  <a href="server_8c.html#a840291bc02cba5474a4cb46a9b9566fe">More...</a><br /></td></tr>
<tr class="separator:a840291bc02cba5474a4cb46a9b9566fe"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="var-members"></a>
Variables</h2></td></tr>
<tr class="memitem:ab0196e30c40099fcc01057bbcfda6433"><td class="memItemLeft" align="right" valign="top"><a class="el" href="structServerConfig.html">ServerConfig</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="server_8c.html#ab0196e30c40099fcc01057bbcfda6433">config</a></td></tr>
<tr class="memdesc:ab0196e30c40099fcc01057bbcfda6433"><td class="mdescLeft">&#160;</td><td class="mdescRight">Server configuration.  <a href="server_8c.html#ab0196e30c40099fcc01057bbcfda6433">More...</a><br /></td></tr>
<tr class="separator:ab0196e30c40099fcc01057bbcfda6433"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a29155525d19b953df43385744a19dcf0"><td class="memItemLeft" align="right" valign="top"><a class="el" href="structConfigOption.html">ConfigOption</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="server_8c.html#a29155525d19b953df43385744a19dcf0">options</a> []</td></tr>
<tr class="memdesc:a29155525d19b953df43385744a19dcf0"><td class="mdescLeft">&#160;</td><td class="mdescRight">Configuration option.  <a href="server_8c.html#a29155525d19b953df43385744a19dcf0">More...</a><br /></td></tr>
<tr class="separator:a29155525d19b953df43385744a19dcf0"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a52aa3794e6bc5c84d923de87a2d4e435"><td class="memItemLeft" align="right" valign="top">char **&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="server_8c.html#a52aa3794e6bc5c84d923de87a2d4e435">playing_field</a></td></tr>
<tr class="separator:a52aa3794e6bc5c84d923de87a2d4e435"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table>
<a name="details" id="details"></a><h2 class="groupheader">Detailed Description</h2>
<div class="textblock"><p>File with the implementation of the server. The server creates a socket, binds it to the address and port, listens for incoming connections, and handles the connections. The server creates a child process to handle the client connection. The child process creates the game board, places the ships, and handles the game process. </p><dl class="section author"><dt>Author</dt><dd>Gavrish A.A. </dd></dl>
<dl class="section date"><dt>Date</dt><dd>13.04.2024 </dd></dl>

<p class="definition">Definition in file <a class="el" href="server_8c_source.html">server.c</a>.</p>
</div><h2 class="groupheader">Macro Definition Documentation</h2>
<a id="a1d87411411dd1e46bb054e543df3c8c8"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a1d87411411dd1e46bb054e543df3c8c8">&#9670;&nbsp;</a></span>BUF_CONFIG_SIZE</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define BUF_CONFIG_SIZE&#160;&#160;&#160;50</td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="server_8c_source.html#l00025">25</a> of file <a class="el" href="server_8c_source.html">server.c</a>.</p>

</div>
</div>
<a id="a42bf63540ee0039a3a23db1b5ec3202b"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a42bf63540ee0039a3a23db1b5ec3202b">&#9670;&nbsp;</a></span>CONFIG_FILE</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define CONFIG_FILE&#160;&#160;&#160;&quot;config.cfg&quot;</td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="server_8c_source.html#l00021">21</a> of file <a class="el" href="server_8c_source.html">server.c</a>.</p>

</div>
</div>
<a id="a053b7859476cc9867ec62c49e68d3fa1"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a053b7859476cc9867ec62c49e68d3fa1">&#9670;&nbsp;</a></span>MAX_CONNECTIONS</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define MAX_CONNECTIONS&#160;&#160;&#160;10</td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="server_8c_source.html#l00023">23</a> of file <a class="el" href="server_8c_source.html">server.c</a>.</p>

</div>
</div>
<a id="a5bb74f89a7ccccb5b72cb10e21b6a2f9"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a5bb74f89a7ccccb5b72cb10e21b6a2f9">&#9670;&nbsp;</a></span>MAX_FIELD_SIZE</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define MAX_FIELD_SIZE&#160;&#160;&#160;20</td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="server_8c_source.html#l00024">24</a> of file <a class="el" href="server_8c_source.html">server.c</a>.</p>

</div>
</div>
<h2 class="groupheader">Function Documentation</h2>
<a id="a8c360e0dce3321283e4979437859c0b7"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a8c360e0dce3321283e4979437859c0b7">&#9670;&nbsp;</a></span>check_configuration()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="shared_8h.html#af6a258d8f3ee5206d682d799316314b1">bool</a> check_configuration </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="structServerConfig.html">ServerConfig</a>&#160;</td>
          <td class="paramname"><em>config</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Checks the configuration of the server. The configuration is invalid if the field size is greater than the maximum field size or the number of ships is greater than the maximum number of ships. </p>
<dl class="section note"><dt>Note</dt><dd>The configuration is invalid if the field size is greater than the maximum field size or the number of ships is greater than the maximum number of ships. </dd></dl>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">config</td><td>Server configuration. </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>true if the configuration is invalid, false otherwise. </dd></dl>
<dl class="section see"><dt>See also</dt><dd><a class="el" href="structServerConfig.html" title="Structure for storing server configuration.">ServerConfig</a>, <a class="el" href="shared_8h.html#af6a258d8f3ee5206d682d799316314b1" title="Boolean type definition. Used to represent true and false values.">bool</a> </dd></dl>

<p class="definition">Definition at line <a class="el" href="server_8c_source.html#l00257">257</a> of file <a class="el" href="server_8c_source.html">server.c</a>.</p>

</div>
</div>
<a id="a826a4475252fe7971212c5e29001f744"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a826a4475252fe7971212c5e29001f744">&#9670;&nbsp;</a></span>check_game_status()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="shared_8h.html#a881b49e3802366255ad852f1c8624fd1">GameStatus</a> check_game_status </td>
          <td>(</td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>number_of_moves</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>number_of_ships</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Checks the game status. The game status is checked based on the number of moves and ships. The game is won if the number of moves is less than the maximum number of moves and the number of ships is zero. The game is lost if the number of moves is greater than the maximum number of moves. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">number_of_moves</td><td>Number of moves. </td></tr>
    <tr><td class="paramname">number_of_ships</td><td>Number of ships. </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>GameStatus </dd></dl>
<dl class="section see"><dt>See also</dt><dd><a class="el" href="shared_8h.html#a881b49e3802366255ad852f1c8624fd1" title="Enumeration for the game status. The game status can be NEXT, WIN, or LOSE.">GameStatus</a> </dd></dl>

<p class="definition">Definition at line <a class="el" href="server_8c_source.html#l00348">348</a> of file <a class="el" href="server_8c_source.html">server.c</a>.</p>

</div>
</div>
<a id="a194df5ce354a85b622ec15eeb1e432a5"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a194df5ce354a85b622ec15eeb1e432a5">&#9670;&nbsp;</a></span>handle_client()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void handle_client </td>
          <td>(</td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>client_socket</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>server_socket</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Handles the client connection. Creates a child process to handle the client. The child process creates the game board, places the ships, and handles the game process. </p>
<dl class="section note"><dt>Note</dt><dd>The child process is terminated after the game is finished. </dd></dl>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">client_socket</td><td>Client socket. </td></tr>
    <tr><td class="paramname">server_socket</td><td>Server socket. </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>void </dd></dl>

<p class="definition">Definition at line <a class="el" href="server_8c_source.html#l00140">140</a> of file <a class="el" href="server_8c_source.html">server.c</a>.</p>

</div>
</div>
<a id="ad6261f040bd258f001d04dc874097482"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ad6261f040bd258f001d04dc874097482">&#9670;&nbsp;</a></span>init_configuration()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void init_configuration </td>
          <td>(</td>
          <td class="paramtype">FILE *&#160;</td>
          <td class="paramname"><em>file</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Initializes the configuration of the server. Reads the configuration file and sets the values of the configuration. The configuration file must be in the format "key=value". </p>
<dl class="section note"><dt>Note</dt><dd>The configuration file must contain the following keys: "field_size", "number_of_moves", </dd></dl>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">file</td><td>Configuration file. "number_of_ships", "server_port", "server_address". </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>void </dd></dl>

<p class="definition">Definition at line <a class="el" href="server_8c_source.html#l00113">113</a> of file <a class="el" href="server_8c_source.html">server.c</a>.</p>

</div>
</div>
<a id="ac746ba306bd0b9ce4c390cb8cbbc5004"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ac746ba306bd0b9ce4c390cb8cbbc5004">&#9670;&nbsp;</a></span>is_valid_position()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="shared_8h.html#af6a258d8f3ee5206d682d799316314b1">bool</a> is_valid_position </td>
          <td>(</td>
          <td class="paramtype">char **&#160;</td>
          <td class="paramname"><em>playing_field</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>x</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>y</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Checks if the position on the game board is valid. The position is valid if there are no ships around the position. </p>
<dl class="section note"><dt>Note</dt><dd>The position is valid if there are no ships around the position. </dd></dl>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">playing_field</td><td>Game board. </td></tr>
    <tr><td class="paramname">x</td><td>X-coordinate. </td></tr>
    <tr><td class="paramname">y</td><td>Y-coordinate. </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>true if the position is valid, false otherwise. </dd></dl>
<dl class="section see"><dt>See also</dt><dd><a class="el" href="shared_8h.html#af6a258d8f3ee5206d682d799316314b1" title="Boolean type definition. Used to represent true and false values.">bool</a> </dd></dl>

<p class="definition">Definition at line <a class="el" href="server_8c_source.html#l00228">228</a> of file <a class="el" href="server_8c_source.html">server.c</a>.</p>

</div>
</div>
<a id="ae246e04c3eb6b6dc6d41f9485da9a0c7"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ae246e04c3eb6b6dc6d41f9485da9a0c7">&#9670;&nbsp;</a></span>logging()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void logging </td>
          <td>(</td>
          <td class="paramtype">char *&#160;</td>
          <td class="paramname"><em>message</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Logs the connection of the client. The function logs the time of the connection. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">message</td><td>Message to log. </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>void </dd></dl>

<p class="definition">Definition at line <a class="el" href="server_8c_source.html#l00276">276</a> of file <a class="el" href="server_8c_source.html">server.c</a>.</p>

</div>
</div>
<a id="a840291bc02cba5474a4cb46a9b9566fe"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a840291bc02cba5474a4cb46a9b9566fe">&#9670;&nbsp;</a></span>main()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int main </td>
          <td>(</td>
          <td class="paramtype">void&#160;</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Main function of the server. Initializes the configuration, creates the server socket, binds it to the address and port, listens for incoming connections, and handles them. </p>
<dl class="section return"><dt>Returns</dt><dd>EXIT_SUCCESS if the programm was executed successfully, EXIT_FAILURE otherwise. </dd></dl>

<p class="definition">Definition at line <a class="el" href="server_8c_source.html#l00061">61</a> of file <a class="el" href="server_8c_source.html">server.c</a>.</p>

</div>
</div>
<a id="a9c4c815a40b6ad2d889606f8e7fa66eb"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a9c4c815a40b6ad2d889606f8e7fa66eb">&#9670;&nbsp;</a></span>place_ships()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void place_ships </td>
          <td>(</td>
          <td class="paramtype">char ***&#160;</td>
          <td class="paramname"><em>playing_field</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>number_of_ships</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Places ships on the game board. The ships are placed randomly on the board. The number of ships is specified in the configuration. </p>
<dl class="section note"><dt>Note</dt><dd>The ships are placed randomly on the board. The ships are placed in a way that there are no ships around the ship. </dd></dl>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">playing_field</td><td>Game board. </td></tr>
    <tr><td class="paramname">number_of_ships</td><td>Number of ships. </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>void </dd></dl>

<p class="definition">Definition at line <a class="el" href="server_8c_source.html#l00201">201</a> of file <a class="el" href="server_8c_source.html">server.c</a>.</p>

</div>
</div>
<a id="a23212950e729b793025fd5109c6eb155"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a23212950e729b793025fd5109c6eb155">&#9670;&nbsp;</a></span>process_player_move()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void process_player_move </td>
          <td>(</td>
          <td class="paramtype">char *&#160;</td>
          <td class="paramname"><em>move</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">char *&#160;</td>
          <td class="paramname"><em>answer</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int *&#160;</td>
          <td class="paramname"><em>number_of_moves</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int *&#160;</td>
          <td class="paramname"><em>number_of_ships</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Processes the player move. The function checks if the move is valid and processes the move. The function updates the game board and the number of moves and ships. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">move</td><td>Player move. </td></tr>
    <tr><td class="paramname">answer</td><td>Answer to the player move. </td></tr>
    <tr><td class="paramname">number_of_moves</td><td>Number of moves. </td></tr>
    <tr><td class="paramname">number_of_ships</td><td>Number of ships. </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>void </dd></dl>

<p class="definition">Definition at line <a class="el" href="server_8c_source.html#l00296">296</a> of file <a class="el" href="server_8c_source.html">server.c</a>.</p>

</div>
</div>
<h2 class="groupheader">Variable Documentation</h2>
<a id="ab0196e30c40099fcc01057bbcfda6433"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ab0196e30c40099fcc01057bbcfda6433">&#9670;&nbsp;</a></span>config</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="structServerConfig.html">ServerConfig</a> config</td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Server configuration. </p>
<dl class="section see"><dt>See also</dt><dd><a class="el" href="structServerConfig.html" title="Structure for storing server configuration.">ServerConfig</a> </dd></dl>

<p class="definition">Definition at line <a class="el" href="server_8c_source.html#l00031">31</a> of file <a class="el" href="server_8c_source.html">server.c</a>.</p>

</div>
</div>
<a id="a29155525d19b953df43385744a19dcf0"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a29155525d19b953df43385744a19dcf0">&#9670;&nbsp;</a></span>options</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="structConfigOption.html">ConfigOption</a> options[]</td>
        </tr>
      </table>
</div><div class="memdoc">
<b>Initial value:</b><div class="fragment"><div class="line">= {</div>
<div class="line">    {<span class="stringliteral">&quot;field_size&quot;</span>, &amp;<a class="code" href="server_8c.html#ab0196e30c40099fcc01057bbcfda6433">config</a>.<a class="code" href="structServerConfig.html#a4747ea34a3f8a86bc560b66ff2de692f">field_size</a>, <a class="code" href="shared_8c.html#a85cd4a6b130849a86705f042b7a3ec43">parse_int</a>},</div>
<div class="line">    {<span class="stringliteral">&quot;number_of_moves&quot;</span>, &amp;<a class="code" href="server_8c.html#ab0196e30c40099fcc01057bbcfda6433">config</a>.<a class="code" href="structServerConfig.html#a246165d72bcadec18d24d0f390c990cd">number_of_moves</a>, <a class="code" href="shared_8c.html#a85cd4a6b130849a86705f042b7a3ec43">parse_int</a>},</div>
<div class="line">    {<span class="stringliteral">&quot;number_of_ships&quot;</span>, &amp;<a class="code" href="server_8c.html#ab0196e30c40099fcc01057bbcfda6433">config</a>.<a class="code" href="structServerConfig.html#a5346233125145ae52fa117479a4c140c">number_of_ships</a>, <a class="code" href="shared_8c.html#a85cd4a6b130849a86705f042b7a3ec43">parse_int</a>},</div>
<div class="line">    {<span class="stringliteral">&quot;server_port&quot;</span>, &amp;<a class="code" href="server_8c.html#ab0196e30c40099fcc01057bbcfda6433">config</a>.<a class="code" href="structServerConfig.html#a378da273a9f2ef0493e1eff97dc4f4d1">server_port</a>, <a class="code" href="shared_8c.html#a85cd4a6b130849a86705f042b7a3ec43">parse_int</a>},</div>
<div class="line">    {<span class="stringliteral">&quot;server_address&quot;</span>, &amp;<a class="code" href="server_8c.html#ab0196e30c40099fcc01057bbcfda6433">config</a>.<a class="code" href="structServerConfig.html#a5213a7e19c2716f374274d928cd1c622">server_address</a>, <a class="code" href="shared_8c.html#a3b2b83c71829097eec024f5fae768690">parse_string</a>},</div>
<div class="line">}</div>
<div class="ttc" id="aserver_8c_html_ab0196e30c40099fcc01057bbcfda6433"><div class="ttname"><a href="server_8c.html#ab0196e30c40099fcc01057bbcfda6433">config</a></div><div class="ttdeci">ServerConfig config</div><div class="ttdoc">Server configuration.</div><div class="ttdef"><b>Definition:</b> <a href="server_8c_source.html#l00031">server.c:31</a></div></div>
<div class="ttc" id="ashared_8c_html_a3b2b83c71829097eec024f5fae768690"><div class="ttname"><a href="shared_8c.html#a3b2b83c71829097eec024f5fae768690">parse_string</a></div><div class="ttdeci">void parse_string(void *value, const char *str)</div><div class="ttdoc">Function to parse a string value. The value is stored in the provided variable. The function also rem...</div><div class="ttdef"><b>Definition:</b> <a href="shared_8c_source.html#l00040">shared.c:40</a></div></div>
<div class="ttc" id="ashared_8c_html_a85cd4a6b130849a86705f042b7a3ec43"><div class="ttname"><a href="shared_8c.html#a85cd4a6b130849a86705f042b7a3ec43">parse_int</a></div><div class="ttdeci">void parse_int(void *value, const char *str)</div><div class="ttdoc">Function to parse an integer value. The value is stored in the provided variable.</div><div class="ttdef"><b>Definition:</b> <a href="shared_8c_source.html#l00023">shared.c:23</a></div></div>
<div class="ttc" id="astructServerConfig_html_a246165d72bcadec18d24d0f390c990cd"><div class="ttname"><a href="structServerConfig.html#a246165d72bcadec18d24d0f390c990cd">ServerConfig::number_of_moves</a></div><div class="ttdeci">int number_of_moves</div><div class="ttdef"><b>Definition:</b> <a href="shared_8h_source.html#l00031">shared.h:31</a></div></div>
<div class="ttc" id="astructServerConfig_html_a378da273a9f2ef0493e1eff97dc4f4d1"><div class="ttname"><a href="structServerConfig.html#a378da273a9f2ef0493e1eff97dc4f4d1">ServerConfig::server_port</a></div><div class="ttdeci">int server_port</div><div class="ttdef"><b>Definition:</b> <a href="shared_8h_source.html#l00033">shared.h:33</a></div></div>
<div class="ttc" id="astructServerConfig_html_a4747ea34a3f8a86bc560b66ff2de692f"><div class="ttname"><a href="structServerConfig.html#a4747ea34a3f8a86bc560b66ff2de692f">ServerConfig::field_size</a></div><div class="ttdeci">int field_size</div><div class="ttdef"><b>Definition:</b> <a href="shared_8h_source.html#l00030">shared.h:30</a></div></div>
<div class="ttc" id="astructServerConfig_html_a5213a7e19c2716f374274d928cd1c622"><div class="ttname"><a href="structServerConfig.html#a5213a7e19c2716f374274d928cd1c622">ServerConfig::server_address</a></div><div class="ttdeci">char server_address[16]</div><div class="ttdef"><b>Definition:</b> <a href="shared_8h_source.html#l00034">shared.h:34</a></div></div>
<div class="ttc" id="astructServerConfig_html_a5346233125145ae52fa117479a4c140c"><div class="ttname"><a href="structServerConfig.html#a5346233125145ae52fa117479a4c140c">ServerConfig::number_of_ships</a></div><div class="ttdeci">int number_of_ships</div><div class="ttdef"><b>Definition:</b> <a href="shared_8h_source.html#l00032">shared.h:32</a></div></div>
</div><!-- fragment -->
<p>Configuration option. </p>
<dl class="section see"><dt>See also</dt><dd><a class="el" href="structConfigOption.html" title="Structure for storing configuration options. The structure contains a key, a pointer to the value,...">ConfigOption</a> </dd></dl>

<p class="definition">Definition at line <a class="el" href="server_8c_source.html#l00037">37</a> of file <a class="el" href="server_8c_source.html">server.c</a>.</p>

</div>
</div>
<a id="a52aa3794e6bc5c84d923de87a2d4e435"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a52aa3794e6bc5c84d923de87a2d4e435">&#9670;&nbsp;</a></span>playing_field</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">char** playing_field</td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="server_8c_source.html#l00045">45</a> of file <a class="el" href="server_8c_source.html">server.c</a>.</p>

</div>
</div>
</div><!-- contents -->
</div><!-- doc-content -->
<!-- start footer part -->
<div id="nav-path" class="navpath"><!-- id is needed for treeview function! -->
  <ul>
    <li class="navelem"><a class="el" href="dir_41e1742e44e2de38b3bc91f993fed282.html">server</a></li><li class="navelem"><a class="el" href="server_8c.html">server.c</a></li>
    <li class="footer">Generated by <a href="https://www.doxygen.org/index.html"><img class="footer" src="doxygen.svg" width="104" height="31" alt="doxygen"/></a> 1.9.1 </li>
  </ul>
</div>
</body>
</html>
